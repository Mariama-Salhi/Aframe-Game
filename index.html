<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cochecitos</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="/app.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js%22%3E"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.min.js"></script>
    <!--Oculus-->
    <!--https://stackoverflow.com/questions/71131300/cant-move-camera-in-a-frame-with-oculus-quest-2-->
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-thumbstick-controls.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls-teleport.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls-transform.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls-vive.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls-wasd.js"></script>
    <script src="https://gftruj.github.io/webzamples/aframe/controls/oculus-touch-controls-webxr.js"></script>
  </head>

  <body>
    <a-scene>
      
  <a-scene cursor="rayOrigin: mouse">
    <!-- Cámara -->
    <!-- <a-entity id="camera" camera look-controls></a-entity> -->

    <!-- Suelo -->
    <a-plane position="0 0 0" rotation="-90 0 0" width="10" height="10" color="#55DD63"></a-plane>

    <!-- Entorno -->
    <a-sky
        src="./assets/landscape.jpg"
        scale="2 2 2"
    ></a-sky>

    <!-- Esferas flotantes -->
    <a-entity id="esferas">
        <a-sphere class="eliminar-esfera" position="5 -3 -16" radius="0.5" color="#FF0000" animation="property: scale; from: 0.5 0.5 0.5; to: 1.5 1.5 1.5; dir: alternate; dur: 2000; loop: true;"></a-sphere>
        <a-sphere class="eliminar-esfera" position="-7 -3 -20" radius="0.4" color="#00FF00" animation="property: scale; from: 0.5 0.5 0.5; to: 1.5 1.5 1.5; dir: alternate; dur: 1800; loop: true;"></a-sphere>
        <a-sphere class="eliminar-esfera" position="3 -3 -24" radius="0.6" color="#0000FF" animation="property: scale; from: 0.5 0.5 0.5; to: 1.5 1.5 1.5; dir: alternate; dur: 2200; loop: true;"></a-sphere>
        <a-sphere class="eliminar-esfera" position="-1 -3 -28" radius="0.7" color="#FFFF00" animation="property: scale; from: 0.5 0.5 0.5; to: 1.5 1.5 1.5; dir: alternate; dur: 2500; loop: true;"></a-sphere>
        <!-- Puedes agregar más esferas si lo deseas -->
    </a-entity>

      <!-- Avatar -->
      <a-entity gltf-model="./models/my-avatar.glb" scale="0.10 0.10 0.10" position="1 -1 -5" rotation="0 180 0"></a-entity>


    <!-- Vehículo -->
    
    <a-entity id="cameraRig">
        <a-entity camera position="0 -3 -5">
            <a-entity id="car" gltf-model="https://cdn.glitch.global/cdf96ad7-7c21-4738-8eaa-e770dd412f63/cartoon%20banana%20car.glb?v=1690045751654" 
                  scale="0.010 0.010 0.010" 
                  position="0 -3 -5" 
                  rotation="0 180 0" 
                  keyboard-controls oculus-touch-controls></a-entity>
            <a-entity oculus-touch-controls="hand: left" thumbstick-logging></a-entity>
            <a-entity oculus-touch-controls="hand: right" thumbstick-logging></a-entity>
        </a-entity>
    </a-entity>
    

    <!-- Componente para que la cámara siga al coche -->
    <a-entity camera look-at="#car"></a-entity>

    <!-- Contador -->
    <a-text id="contador" position="0 3 -5" value="0" color="#000000" align="center" scale="3 3 3"></a-text>
    <a-text id="contadorTiempo" position="0 3.5 -5" value="0" color="#000000" align="center" scale="3 3 3"></a-text>



    <!---------------------------- SIN gafas de RV ---------------------------->
    <!-- <a-entity id="cameraRig">
          <a-entity camera position="0 1.6 0">
              <a-text value="debug" position="0 0 -3"></a-text>
          </a-entity>
          <a-entity oculus-touch-controls="hand: left" thumbstick-logging></a-entity>
          <a-entity oculus-touch-controls="hand: right" thumbstick-logging></a-entity>
    </a-entity> -->


    <!--------------------------- CON gafas de RV --------------------------------->
  
      </a-entity>
        <a-entity oculus-touch-controls="hand: left" thumbstick-logging></a-entity>
        <a-entity oculus-touch-controls="hand: right" thumbstick-logging></a-entity>
      </a-entity>

      <a-entity id="avatar" position="-1.20687 0.02362 -2.2852"  scale="1 1 1" scale="1 1 1" animation-mixer="action" play-all-model-animations modify-materials gltf-model="/assets/model.glb"></a-entity>
      <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js%22%3E"></script>
  


    </a-scene>

   <!-- Suelo (terreno) como modelo 3D -->
   <a-entity gltf-model="url_del_modelo_3D.gltf" scale="1 1 1" position="0 0 0"></a-entity>

  <script src="script.js"></script>
</body>
</html>